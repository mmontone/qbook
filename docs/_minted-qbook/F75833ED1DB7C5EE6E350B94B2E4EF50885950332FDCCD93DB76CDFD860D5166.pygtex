\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{(}\PYG{n+nb}{defun} \PYG{n+nv}{make\PYGZhy{}part\PYGZhy{}reader} \PYG{p}{(}\PYG{k}{function} \PYG{k}{type}\PYG{p}{)}
  \PYG{p}{(}\PYG{k}{lambda} \PYG{p}{(}\PYG{n+nc}{stream} \PYG{n+nv}{echar}\PYG{p}{)}
    \PYG{p}{(}\PYG{k}{let} \PYG{p}{((}\PYG{n+nv}{part} \PYG{p}{(}\PYG{n+nb}{make\PYGZhy{}instance} \PYG{k}{type}\PYG{p}{)))}
      \PYG{p}{(}\PYG{n+nb}{setf} \PYG{p}{(}\PYG{n+nv}{start\PYGZhy{}position} \PYG{n+nv}{part}\PYG{p}{)} \PYG{p}{(}\PYG{n+nb}{file\PYGZhy{}position} \PYG{n+nc}{stream}\PYG{p}{))}
      \PYG{p}{(}\PYG{n+nb}{funcall} \PYG{k}{function} \PYG{n+nc}{stream} \PYG{n+nv}{echar}\PYG{p}{)}
      \PYG{p}{(}\PYG{n+nb}{setf} \PYG{p}{(}\PYG{n+nv}{end\PYGZhy{}position} \PYG{n+nv}{part}\PYG{p}{)} \PYG{p}{(}\PYG{n+nb}{file\PYGZhy{}position} \PYG{n+nc}{stream}\PYG{p}{))}
      \PYG{n+nv}{part}\PYG{p}{)))}
\end{Verbatim}
